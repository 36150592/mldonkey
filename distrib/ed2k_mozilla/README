Mozilla MLdonkey Protocol Handler 1.4
Copyright (C) 2003, 2004 Simon Peter <dn.tlp@gmx.net>

Description:
------------
This is a protocol handler for Mozilla and Firefox (see www.mozilla.org) that
forwards some link types to a running MLdonkey (see www.mldonkey.net) client.

Supported protocols are ed2k:, magnet: and sig2dat:.

The protocol handler is implemented in JavaScript and should run on any
platform supported by Mozilla or Firefox.

Installation:
-------------
Just open the .xpi installer file in Mozilla/Firefox and follow the on-screen
instructions. On a UNIX derivative system, you most likely need to start your
browser as root to complete the installation.

It is best to shutdown the browser completely by closing all open windows
prior to restarting it as root because there may be some startup scripts used
by your version that may just open another window instead of starting it as
root.

After having installed the package, you need to set it up. Refer to the next
section on this topic.

After setup, restart your browser and everything should be in place. Supported
link types will automatically be forwarded to your MLdonkey when you click on
them.

Configuration:
--------------
The protocol handler is configurable through Mozilla's preferences scheme. The
preferences can be set in multiple ways, depending on your browser version.

For Mozilla 1.3, newer versions and Firefox, the preferences are accessible by
visiting the URL "about:config" inside the browser. This opens a page
containing a table of all available preference options. Right clicking on the
table opens a menu to create, modify and reset the options. Note that the
preference defaults of this protocol handler are internal and NOT visible
initially in the list! To set your own preferences, you have to create them.

For Mozilla versions below 1.3, you can set the preferences by creating a file
'user.js' in your profile directory (this is $HOME/.mozilla/default/<profile>/
on UNIX systems, where <profile> has to be replaced by some cryptic string --
just look in that directory) and set the options there by adding lines of the
form: user_pref("option", "value"); to it.

The following preference options are available:

Option:                 Default:        Description:
-------                 --------        ------------
network.mldonkey.server localhost       hostname on which MLdonkey is running
network.mldonkey.user                   login with this username
network.mldonkey.pass                   login with this password
network.mldonkey.port   4080            port of the MLdonkey WEB service

All these options are string options. Remember to restart your browser before
any of them can take effect!

News:
-----
Changes for version 1.4:
- Added compatibility for the new component system of Firefox 0.9
  (thanks to Len Walter <len@unsw.edu.au>).
- Username is now empty by default.

Changes for version 1.3:
- Added support for "sig2dat" links.
- More fixes for some strange, half-escaped URLs.
- Fixed size of response window not getting out of bounds.

Changes for version 1.2:
- Fixed support for unescaped URLs (thanks to Sven Koch).

Changes for version 1.1:
- MLdonkey's response is now displayed in an extra window.
- Support for unescaped URLs.
- Name changed to "Mozilla MLdonkey Protocol Handler".
- Configuration branch changed to "network.mldonkey".
- Added support for "magnet:" links.

License:
--------
***** BEGIN LICENSE BLOCK *****
Version: MPL 1.1/GPL 2.0/LGPL 2.1

The contents of this file are subject to the Mozilla Public License Version 
1.1 (the "License"); you may not use this file except in compliance with 
the License. You may obtain a copy of the License at 
http://www.mozilla.org/MPL/

Software distributed under the License is distributed on an "AS IS" basis,
WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
for the specific language governing rights and limitations under the
License.

The Original Code is the MLdonkey protocol handler.

The Initial Developer of the Original Code is
Simon Peter <dn.tlp@gmx.net>.
Portions created by the Initial Developer are Copyright (C) 2003, 2004
the Initial Developer. All Rights Reserved.

Contributor(s):
Sven Koch
Len Walter <len@unsw.edu.au>

Alternatively, the contents of this file may be used under the terms of
either the GNU General Public License Version 2 or later (the "GPL"), or
the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
in which case the provisions of the GPL or the LGPL are applicable instead
of those above. If you wish to allow use of your version of this file only
under the terms of either the GPL or the LGPL, and not to allow others to
use your version of this file under the terms of the MPL, indicate your
decision by deleting the provisions above and replace them with the notice
and other provisions required by the GPL or the LGPL. If you do not delete
the provisions above, a recipient may use your version of this file under
the terms of any one of the MPL, the GPL or the LGPL.

***** END LICENSE BLOCK *****
