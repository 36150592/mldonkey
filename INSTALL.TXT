Compiling mldonkey:
-------------------

You have now two options to compile mldonkey:
- You install Objective-Caml 3.06 and LablGTK 1.2.?. Then, you can compile
    mldonkey. The instructions are given below.
- You don't want to install these softwares, you just want to install them
    to compile mldonkey. You must have a good internet access (you want
       mldonkey after all) and "wget" installed. Then, just run:
 
       ./configure -enable-batch

       The configure script will download ocaml and lablgtk, compile and
       install them locally so that they can be used
       to compile mldonkey. The 1) below is not for you now. Be patient. These
       tools take a while to compile and install.

       Note that you need at least 70 M of free disk space on the partition
         where mldonkey is compiled.

------------------------------------------------------------------------
1) Installing required tools: Objective-Caml 3.06 and LablGTK 1.2.3 or 1.2.?

 1.1) Objective-Caml 3.06 (from   http://pauillac.inria.fr/caml)

    ~/tmp> tar zxf ocaml-3.06.tar.gz
    ~/tmp> cd ocaml-3.06

   If you REALLY want to patch it:
    ~/tmp/ocaml-3.06> ./configure
    ~/tmp/ocaml-3.06> make world opt opt.opt
    ~/tmp/ocaml-3.06> make install

 1.2) LablGTK 1.2.3 (from 
            http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/lablgtk.html)

    ~/tmp> tar zxf lablgtk-1.2.3.tar.gz
    ~/tmp> cd lablgtk-1.2.3
    ~/tmp/lablgtk-1.2.3> make configure
    ~/tmp/lablgtk-1.2.3> make
    ~/tmp/lablgtk-1.2.3> make opt
    ~/tmp/lablgtk-1.2.3> make install

2) Compiling mldonkey:

    ~/tmp/mldonkey> ./configure
    ~/tmp/mldonkey> make depend
    ~/tmp/mldonkey> make

  You should now have 'mldonkey' (the daemon with edonkey/overnet support), 
'mlnet' (the daemon with all network support) and 'mldonkey_gui' (the
interface) No 'make install' is provided. 

  You can disable all other p2p networks using the --disable-multinet option
   with ./configure. Only edonkey support will then be compiled.

------------------------------------------------------------------------

Using mldonkey:
---------------

mldonkey binaries are normally distributed with only the content of the
mldonkey/distrib/ directory. Consequently, all documentation files on how to
use mldonkey are stored in this directory. You will also find default 
configuration files in this directory, and in particular, a list of servers
for edonkey in the servers.ini file.

 See the distrib/Readme.txt and distrib/FAQ.html files for more information
on how to use mldonkey.

 Note that you should execute mldonkey in the distrib/ directory, where a
list of servers is present with other files. It will create other
configuration files in this directory. mldonkey_gui has its own configuration
file in the user directory (~/.mldonkey_gui.ini). I would advise you to move
mldonkey, mldonkey_gui, mldonkey_gui2 and mlchat to distrib/, then move this
directory where you want to put your downloads, and then remove mldonkey 
sources.

You must NOT run mldonkey as root (or you should use the run_as_user
option to change the user after the port has been bound).

NOTES:
------
2002/12/18: To compile on MinGW
 * configure: -enable-batch will not work, you must download and install ocaml
    yourself
 * the generated .depend file is broken: after 'make depend', edit it
     and replace \ in filenames by /
 * if ocamlopt/gcc fails to generate mldonkey.exe, add '-verbose -S'
     to the LIBS_opt in the Makefile. Use 'make &> log' to keep the
     commands, edit the 'log' file and remove all the commands except
     the 2 last 'as' and 'gcc' lines. Then use 'sh ./log' to rerun
     these commands, that should work this way :)





